class OrbitPlayer{constructor(e){this.video=e,this.init()}init(){this.setupPlayer(),this.setupControls()}setupPlayer(){const e=this.video.parentElement;e.classList.add("orbit-player");const t=document.createElement("div");t.className="orbit-controls",t.innerHTML=`<div class="orbit-progress"><div class="orbit-progress-bar"></div></div><div class="orbit-buttons"><div class="orbit-left"><button class="orbit-button orbit-play"><i class="fas fa-play"></i></button><span class="orbit-time">0:00 / 0:00</span></div><div class="orbit-right"><button class="orbit-button orbit-fullscreen"><i class="fas fa-expand"></i></button></div></div>`,e.appendChild(t),this.controls={play:t.querySelector(".orbit-play"),progress:t.querySelector(".orbit-progress-bar"),time:t.querySelector(".orbit-time"),fullscreen:t.querySelector(".orbit-fullscreen")}}setupControls(){this.video.addEventListener("timeupdate",()=>{const e=this.video.currentTime/this.video.duration*100;this.controls.progress.style.width=`${e}%`,this.updateTime()}),this.controls.play.addEventListener("click",()=>this.togglePlay()),this.controls.fullscreen.addEventListener("click",()=>this.toggleFullscreen())}togglePlay(){this.video.paused?(this.video.play(),this.controls.play.innerHTML='<i class="fas fa-pause"></i>'):(this.video.pause(),this.controls.play.innerHTML='<i class="fas fa-play"></i>')}updateTime(){const e=this.formatTime(this.video.currentTime),t=this.formatTime(this.video.duration);this.controls.time.textContent=`${e} / ${t}`}formatTime(e){const t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${n.toString().padStart(2,"0")}`}async toggleFullscreen(){document.fullscreenElement?(await document.exitFullscreen(),this.controls.fullscreen.innerHTML='<i class="fas fa-expand"></i>'):(await this.video.parentElement.requestFullscreen(),this.controls.fullscreen.innerHTML='<i class="fas fa-compress"></i>')}}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("video").forEach(e=>new OrbitPlayer(e))});
